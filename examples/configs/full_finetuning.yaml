# Full fine-tuning â€” GPT-2 (small, CPU-safe)
# Trains all 124M parameters. Only suitable for small models.
#
# Prerequisites:
#   python examples/generate_sample_data.py
#
# Usage:
#   finetune-cli train --config examples/configs/full_finetuning.yaml

model:
  name: "gpt2"
  device: "auto"
  torch_dtype: "float32"
  load_in_4bit: false
  load_in_8bit: false
  trust_remote_code: false

dataset:
  source: "local_file"
  path: "./data/sample.jsonl"
  split: "train"
  max_samples: 300
  shuffle: true
  seed: 42

tokenization:
  max_length: 128
  truncation: true
  padding: "max_length"
  add_special_tokens: true
  return_attention_mask: true

training:
  method: "full_finetuning"
  output_dir: "./outputs/gpt2_full"
  num_epochs: 2
  batch_size: 2
  gradient_accumulation_steps: 8
  learning_rate: 0.00005
  weight_decay: 0.01
  warmup_ratio: 0.1
  lr_scheduler_type: "cosine"
  fp16: false
  bf16: false
  logging_steps: 10
  save_strategy: "epoch"
  evaluation_strategy: "no"
  gradient_checkpointing: false
  seed: 42